<div class="admin-header">
    <div class="admin-header__title">Categories</div>
</div>

<form class="search">
  <h3>Search category</h3>
  <input type="text" class="search-input" ng-model="CategoriesCtrl.search" placeholder="Search"/>
    <button eq-modal class="admin-button-container">New category</button>
</form>

<div class="admin-selection height-auto">
    <table class="admin-selection-table">
        <tr class="admin-selection-table-row-heading">
            <th class="admin-selection-table-row-heading__title">Title</th>
            <th class="admin-selection-table-row-heading__title">Description</th>
            <th class="admin-selection-table-row-heading__title">Actions</th>
        </tr>
        <tr class="admin-selection-table-row-content"
            ng-repeat="category in CategoriesCtrl.categories | filter : CategoriesCtrl.search"
            ng-show="pageFilter($index)">
            <td class="admin-selection-table-row-content__title">{{category.title}}</td>
            <td class="admin-selection-table-row-content__title">{{category.description}}</td>
            <td class="admin-selection-table-row-content__title"><i class="fa fa-trash-o" ng-click='CategoriesCtrl.removeCategory(category)'></i>  <i eq-modal class="fa fa-wrench" ng-click='CategoriesCtrl.editCategory(category);'></i></td>
        </tr>
    </table>
</div>

<eq-pagination limit="10" view-list="CategoriesCtrl.categories"></eq-pagination>

<div class="modal-background is-hidden" id="modal">
  <div class="center-block absolute-center modal big">
    <form ng-submit="CategoriesCtrl.addCategory()" style="margin: 30px auto 0;" class="form-container" name="form">
        <div class="form-title"><h2>{{CategoriesCtrl.formTitle}}</h2></div>

        <div class="form-title">Title</div>
        <input class="form-field" type="text" placeholder="Title" ng-model="CategoriesCtrl.category.title" ng-model-options="{ updateOn: 'submit' }" required><br/>

        <div class="form-title">Description</div>
        <textarea class="form-field" ng-model="CategoriesCtrl.category.description" ng-model-options="{ updateOn: 'submit' }" placeholder="Description"></textarea><br/>

        <div class="submit-container">
            <input eq-modal class="submit-button" type="reset" value="Cancel" ng-click='CategoriesCtrl.resetTitle();' />
            <input eq-modal class="submit-button" type="submit" value="Submit" />
        </div>
    </form>
  </div>
</div>
